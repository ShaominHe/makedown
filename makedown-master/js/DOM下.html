<!DOCTYPE html><html><head><title>DOM下</title><meta charset='utf-8'><link href='https://cdn.maxiang.io/res-min/themes/marxico.css' rel='stylesheet'><style></style></head><body><div id='preview-contents' class='note-content'>
                        
                    



<h2 id="dom下">DOM下</h2>

<p>注意：方法加（）  属性不加 <br>
进行加法运算的时候看是否是数字运算，数字运算不能累拼需要加一个空字符串 <br>
有规律的重复用循环 <br>
没有规律的用函数</p>



<h5 id="节点">节点</h5>

<p>一、获取节点 <br>
《div》 <br>
        《p  name = “part”》我我我《/p》 <br>
        《!–span标签–》《span name=”s”  aa= ‘bb’  class=”box”》  《 /span》 <br>
        《b》《/b》 <br>
《/div》 <br>
换行和空格也是文本 <br>
var  oDiv = document.querySelector(“div”) <br>
var  Ospan = document.querySelector(“span”) <br>
var  gege=oSpan.previousSibling; <br>
console.log(gege.nodeType);  //节点类型 结果是8 <br>
console.log(gege.nodeName);    //节点名称  结果是comment <br>
console.log(gege.nodeValue);    //节点值   结果是span标签</p>

<p>1、获取所有的属性节点 <br>
var res = oSpan.attributes;  <br>
console.log(res)</p>

<p>2、获取到所有子元素节点 <br>
var res = oDiv.children;   ———不包含文本节点 <br>
console.log(res)</p>

<p>3、获取到指定元素下的所有节点 <br>
var  oDiv = document.querySelector(“div”); <br>
var  res = oDiv.childNodes; // 获取到指定元素下所有节点   ——包含文本节点 <br>
console.log(res)</p>

<p>4、获取到第一个节点 <br>
var  res=oDiv.firstChild;</p>

<p>5、获取到第一个元素节点 <br>
var  res  =oDiv.firstElementChild; <br>
console.log(res)</p>

<p>6、获取最后一个子节点 <br>
var node =oDiv.LastChild;</p>

<p>7、获取最后一个子元素节点 <br>
var res = oDiv.LastElementChild;</p>

<p>8、span的上一个节点 <br>
 var  res =oSpan.previousSibling;</p>

<p>9、span的上一个元素节点 <br>
  var  res  = oSpan.previousElementSibing;</p>

<p>10、span的下一个节点 <br>
var res =  oSpan.nextSibling;</p>

<p>11、span的下一个元素节点  <br>
var res = oSpan.nextElementSibling </p>

<p>12、获取父元素 <br>
var  res = oSpan.parentElement;</p>

<p>二、 创建节点 <br>
创建之后的相当于在body中： <br>
《div》 <br>
        《p》 <br>
                段落 <br>
                《span》  文字标签《 /span》 <br>
        《/p》 <br>
《/div》</p>

<p>流程： <br>
1、创建元素节点 <br>
var oDiv=document.createElement(“div”)</p>

<p>2、创建属性节点，只有属性名没有属性值 <br>
var  attr= document.createAttribute(“name”) <br>
属性值： <br>
attr.value = ‘username’;</p>

<p>3、创建文本节点 <br>
var text=document.createTextNode(“盒子”)</p>

<p>4、文本放到div中 <br>
oDiv.appendChild(text);   //  给父元素追加一个子元素,添加到后面</p>

<p>5、属性放入div中 <br>
oDiv.setAttributeNode(attr);</p>

<p>6、将div放到body中 <br>
document.body.appendChild(oDiv)</p>

<p>7、给父元素添加一个子元素并放到指定的子元素前面  父元素.insertBefore(新元素，指定的子元素) <br>
document.body,insertBefore(oDiv,document.querySelector(“p”))</p>

<p>8、替换节点   父元素.replaceChild(新元素，旧元素) <br>
document.body.replaceChild(oDiv,document.querySelector(“p”))</p>

<p>9、删除节点  父元素.removeChild(子元素) <br>
document.body.removeChild(document.querySelector(“p”))</p>

<p>10、复制节点   被复制的元素.cloneNode();i <br>
var oP=document.querySelector(“p”); <br>
    浅复制：var newP=oP.cloneNode(); <br>
    深复制：vaar newP=oP.cloneNode(true);</p>

<p>11、获取样式： <br>
行内样式：元素.style.css属性 <br>
非行内样式：window.getComputedStyle(元素).css属性 <br>
兼容低版本IE浏览器：元素.currentStyle</p>

<p>三、获取元素的真实宽高和坐标 <br>
《style&gt; <br>
.box{ <br>
    width:100px; <br>
    height:100px; <br>
    padding:20px; <br>
    border:10px solid #000; <br>
    margin:100px 200px; <br>
} <br>
《/style&gt; <br>
《body&gt; <br>
《div class=”box”&gt;《/div&gt; <br>
《/body&gt; <br>
《script type=”text/javascript”&gt; <br>
var  box=document.querySelector(“box”) <br>
1、真实宽度 <br>
var w= box.offsetWidth <br>
2、真实高度 <br>
var h=box.offsetHeight <br>
3、找设置过定位的那个直系祖宗，找不到了就是html <br>
box.offsetParent <br>
4、自身在网页中x轴的坐标 <br>
var l=box.offsetLeft; <br>
结果是208  因为body与html之间自带8px的间距 <br>
5、自身在网页中y轴的坐标 <br>
var t = box.offsetTop;</p>

<p>四、补充 <br>
var w1 = window.innerWidth; // Bom获取 <br>
var w2 = document.documentElement.clientWidth; // Dom获取 <br>
console.log(w1,w2);</p>

<p>bom包含滚动条的宽度 <br>
dom不包含</p>

<p>var w3 = document.body.clientWidth; <br>
console.log(w3); <br>
也可以直接获取浏览器的宽度，但是不包含滚动条，还需要减去左右距离html的8px的距离</p>

<p>监听浏览器的大小改变事件 <br>
window.onresize=function(){ <br>
    var w1 = window.innerWidth; <br>
    console.log(w1); <br>
}</p></div></body></html>