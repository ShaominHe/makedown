###  生命周期

#### vue的生命周期中的钩子

1、挂载阶段    mounting 	在生命周期中只会出现一次

beforeCreate：创建实例前
created：创建实例后
beforeMount：挂载前
Mounted：挂载后

2、更新阶段    updating（视图更新，当数据发生变化，触发视图的变化）

beforeUpdate：更新之前

updated:更新完成以后

3、卸载阶段    unmounting   	在生命周期中只会出现一次，将VM移除，从而将view和model之间的关联进行取消

beforeDestroy:销毁之前
destroyed:销毁之后

卸载阶段：

卸载就是销毁VM实例，取消视图和数据的双向绑定

```
<body>
    <input type="button" value="卸载" onclick="fn()">
<div id="myApp">
    <input type="text" v-model="str">
    <div ref="myDiv">{{str}}</div>
</div>
</body>
<script type="text/javascript">
const vm=new Vue({
    el:"#myApp",
    data:{
        str:"我我我"
    },
    beforeDestroy(){
        console.group("***************beforeDestroy*******************")
        console.log("data:",this.str)
        console.log("methods:",this.fn)
        console.log("refs:",this.$refs.myDiv.innerHtml)
        console.log("dom:",document.querySelector("#myApp div").innerHTML)
        console.groupEnd()
    },
    destroyed(){
        console.group("***************beforeDestroy*******************")
        console.log("data:",this.str)
        console.log("methods:",this.fn)
        console.log("refs:",this.$refs.myDiv)
        console.log("dom:",document.querySelector("#myApp div").innerHTML)
        console.groupEnd()
    },
})
function fn(){
    vm.$destroy()
}
</script>
```

#### 双向绑定

解析器：
解析指定的模板或el当中的元素，解析元素是否有指令，解析元素内是否还有元素，解析元素是不是一个组件。将与数据相关的元素生成一个订阅者

订阅者：
每一个元素即是一个订阅者，多个订阅者指定一个观察者

观察者：
每一个数据即是一个观察者，观察数据是否发生变化，当数据变化时通知订阅者让其发生相对应的响应

```
Object.defineProperty(obj,"userName",{
	get(){
	//读取
	//获得最新的内容
	},
	set(){
	//写入
	//可以观察到数据是否发生变化，在这个地方通知订阅者
	}
})
```

双向绑定原理：

在vue中会将DOM的元素进行一次解析，在解析的过程中会将与数据相关的元素生成订阅者，订阅者会在数据发生变化的时候触发，触发的时候每一个数据就是一个观察者，观察者会监听数据发生的变化，再让订阅者发生对应的响应