# 补充知识

#### 检查错误时要看：

```
数据传过去没有
接口接受到没有
接口返回了没有
ajax调用数据得到数据了没有

（Ajax传过去了没有，服务器接受了没有，返回了没有，前端接受了没有）
```

params刷新页面丢失，在做后台管理的时候，

当想要刷新将内容初始化的时候选择params

params传值

```
$router.push({name:'shopList',params:{shopTypeId:scope.row._id}})
```

接受params

```
this.$route.params.shopTypeId
```



#### try,catch,finally

```
try{

}catch(err){

}finally{

}

当try发生错误时，执行catch，finally不管有没有错误都会执行
当try没有错误可以执行时，catch不会执行

判断是否为整形：
Number.isInteger(str)   //判断str是否为整形，返回布尔值
```

#### app.all

```
//所有的请求方式，所有的地址都走这个接口
app.all("*",function(req,res,next){
	//将所有的文件都放到白名单中
	res.header("Access-Control-Allow-Origin","*")
})
```



#### 返回的数据格式什么时候用

```
req.params    接收的是/:id这种格式
req.query     接收的是/?这种格式
req.body     post一般使用
```



#### 接口用哪种

```
调用接口
get    获取
post    添加
delete    删除
put    修改
```



#### 数据库id的格式

```
mongodb.ObjectId()     将字符串转为ObjectId格式
存储到数据库中的id的格式
```





#### 小知识

##### 1、input提交图片用file属性

```
<input type="file">  //选择一张图片
<input type="file" multiple>  //选择多张图片
```

##### 2、将选中图片转为base64的格式

##### 3、mydata的添加方法

```
mydata.append("one",document.querySelector("input[name=advName]").value)
mydata.append("two",23)
mydata.append("two",66)
mydata.set("three",45)
mydata.set("three",54)
console.log(mydata.get("one"))   //inupt输入几就是几
console.log(mydata.get("two"))  //23
console.log(mydata.getAll("two"))	//["23","66"]
console.log(mydata.get("three"))	//54
console.log(mydata.getAll("one"))	//["54"]
append是追加，set有这个属性是修改，没有是添加
mydata.delete("three")  //删除
```

##### 4、删除更改移动文件夹

```
const fs=require("fs")
const path=require("path")
//获得文件的扩展名
console.log(path.extname(__dirname+"/server.js"))
//移动文件夹并更改文件夹的名字
fs.rename(__dirname+"/a",__dirname+"/module/b",function(err){		//将a文件移动到module下并改为b文件
	console.log(err)
})
//删除文件夹
fs.unlink(__dirname+"/a",function(err){
	console.log(err)
})
```

